(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e6702"],{"996b":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",[e._v("临时文件目录占用大小: "+e._s(e.formatSizeHuman(e.tempFileSize)))]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.files,border:"",stripe:"",size:"mini",lazy:"",load:e.loadChild,"row-key":"path","tree-props":{children:"children",hasChildren:"directory"}}},[a("el-table-column",{attrs:{prop:"name",label:"文件名",sortable:""}}),a("el-table-column",{attrs:{prop:"path",label:"路径"}}),a("el-table-column",{attrs:{prop:"size",label:"大小",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.formatSizeHuman(t.row.size)))])]}}])}),a("el-table-column",{attrs:{prop:"lastUpdateTime",label:"上次修改时间",sortable:"",formatter:e.formatTime}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.delete?a("div",[e._v("已删除")]):a("div",[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.deleteFiles(t.row,t.$index)}}},[e._v("删除")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.downloadFile(t.row.path)}}},[e._v("下载")])],1)]}}])})],1)],1)},i=[],n=a("b1a9"),o=a("ed08"),r={name:"Filemanager",data:function(){return{files:[],tempFileSize:0}},mounted:function(){this.loadRoot()},methods:{formatSizeHuman:o["d"],deleteFiles:function(e,t){var a=this;n["a"].deleteFiles(e.path).then((function(t){a.setRowDelete(e)}))},setRowDelete:function(e){if(this.$set(e,"delete",!0),e.children)for(var t=0;t<e.children.length;t++)this.setRowDelete(e.children[t])},downloadFile:function(e){n["a"].fileDownload(e)},calcDirectorySize:function(e){var t=this;n["a"].calcDirectorySize(e.path).then((function(a){t.$set(e,"size",a.data)}))},formatTime:function(e,t){return Object(o["f"])(e.lastUpdateTime,void 0)},formatSize:function(e,t){return Object(o["d"])(e.size)},loadRoot:function(){var e=this;n["a"].childNames("").then((function(t){e.files=t.data;for(var a=0,l=0;l<e.files.length;l++)a+=e.files[l].size;e.tempFileSize=a}))},loadChild:function(e,t,a){var l=0===e.level?"":e.path;n["a"].childNames(l).then((function(e){a(e.data)}))}}},s=r,c=a("2877"),d=Object(c["a"])(s,l,i,!1,null,"64a4e1a0",null);t["default"]=d.exports}}]);