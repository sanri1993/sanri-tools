(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0173532d"],{"0611":function(t,e,o){},7395:function(t,e,o){"use strict";o("dc19")},b54e:function(t,e,o){"use strict";o("0611")},dc19:function(t,e,o){},df9b:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-container"},[o("p",[t._v(" 根路径和第一级会默认加载挂载信息, 其它路径请点击对应行获取组织挂载权限信息,因为界面大小的问题, 这个不会加载全部的挂载信息,只会每种类型取 2 个样例, 如需要加载全部挂载信息,请点击全部挂载")]),o("el-table",{attrs:{data:t.groupTrees,size:"mini",border:"",stripe:"","row-key":"path","tree-props":{children:"children"},"highlight-current-row":""},on:{"row-click":t.clickTableRow}},[o("el-table-column",{attrs:{type:"index",width:"55"}}),o("el-table-column",{attrs:{type:"selection",width:"55"}}),o("el-table-column",{attrs:{prop:"name",label:"分组名称",width:"250"}}),o("el-table-column",{attrs:{label:"挂载信息"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.groupMountInfo(e.row))+" ")]}}])}),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return t.openAllMountDialog(e.row)}}},[t._v("全部挂载")])]}}])})],1),o("el-dialog",{attrs:{visible:t.dialog.mount.visible,width:"50%",title:t.dialog.mount.path+" 的权限挂载"},on:{"update:visible":function(e){return t.$set(t.dialog.mount,"visible",e)}}},[o("el-row",{staticClass:"margin-bottom"},[o("el-checkbox",{on:{change:t.changeChildGroup},model:{value:t.dialog.mount.includeChildGroup,callback:function(e){t.$set(t.dialog.mount,"includeChildGroup",e)},expression:"dialog.mount.includeChildGroup"}},[t._v("是否包含子组织")])],1),o("el-row",[o("el-col",{attrs:{span:7}},[o("div",{staticClass:"margin-bottom"},[t._v("挂载用户列表 "+t._s(t.dialog.mount.mountInfo.users.length))]),o("list-group",{attrs:{list:t.dialog.mount.mountInfo.users}})],1),o("el-col",{staticClass:"margin-left",attrs:{span:8}},[o("div",{staticClass:"margin-bottom"},[t._v("挂载角色列表 "+t._s(t.dialog.mount.mountInfo.roles.length))]),o("list-group",{attrs:{list:t.dialog.mount.mountInfo.roles}})],1),o("el-col",{staticClass:"margin-left",attrs:{span:8}},[o("div",{staticClass:"margin-bottom"},[t._v("挂载资源列表 "+t._s(t.dialog.mount.mountInfo.resources.length))]),o("list-group",{attrs:{list:t.dialog.mount.mountInfo.resources}})],1)],1)],1)],1)},i=[],u=(o("fb6a"),o("a15b"),o("b0eb")),s=o("f3cc"),l={name:"authview",components:{ListGroup:s["a"]},data:function(){return{groupTrees:[],dialog:{mount:{visible:!1,includeChildGroup:!1,mountInfo:{users:[],roles:[],resources:[]},path:null}}}},mounted:function(){this.loadGroups()},methods:{changeChildGroup:function(t){var e=this;u["a"].queryMount(this.dialog.mount.path,t).then((function(t){e.dialog.mount.mountInfo=t.data}))},openAllMountDialog:function(t){var e=this;this.dialog.mount.path=t.path,this.dialog.mount.includeChildGroup=t.includeChildGroup,t.mountInfo?this.dialog.mount.mountInfo=t.mountInfo:u["a"].queryMount(t.path,t.includeChildGroup).then((function(t){e.dialog.mount.mountInfo=t.data})),this.dialog.mount.visible=!0,this.dialog.mount.includeChildGroup=t.includeChildGroup},clickTableRow:function(t,e,o){var n=this;u["a"].queryMount(t.path,!1).then((function(e){n.$set(t,"mountInfo",e.data)}))},loadGroups:function(){var t=this;u["a"].accessGroups().then((function(e){if(t.groupTrees=[e.data],u["a"].queryMount(t.groupTrees[0].path,!1).then((function(e){t.$set(t.groupTrees[0],"mountInfo",e.data)})),t.groupTrees[0].children)for(var o=function(e){u["a"].queryMount(t.groupTrees[0].children[e].path,!1).then((function(o){t.$set(t.groupTrees[0].children[e],"mountInfo",o.data)}))},n=0;n<t.groupTrees[0].children.length;n++)o(n)}))},groupMountInfo:function(t){if(t.mountInfo){var e=t.mountInfo;e.users=e.users||[],e.roles=e.roles||[],e.resources=e.resources||[];for(var o=e.users.slice(0,2),n=e.roles.slice(0,2),i=e.resources.slice(0,2),u=[],s=[],l=0;l<o.length;l++)s.push(o[l]+" (User)");u.push(s.join(",")),s=[];for(var r=0;r<n.length;r++)s.push(n[r]+" (Role)");u.push(s.join(",")),s=[];for(var a=0;a<i.length;a++)s.push(i[a]+" (Resource)");return u.push(s.join(",")),u.join("\t\t")}}}},r=l,a=(o("b54e"),o("2877")),c=Object(a["a"])(r,n,i,!1,null,"25aecf10",null);e["default"]=c.exports},f3cc:function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("ul",{staticClass:"list-group",staticStyle:{"min-height":"1px"}},t._l(t.listFilter,(function(e,n){return o("li",{class:e.active?"active list-group-item":"list-group-item",attrs:{title:e.value},on:{click:function(o){return t.clickItem(e,n)}}},[t._v(" "+t._s(e.value)+" ")])})),0)])},i=[],u={name:"Index",props:{list:{type:Array,request:!0},props:{type:Object,require:!1}},data:function(){return{activeIndex:0,view:{show:!0}}},computed:{listFilter:function(){for(var t=[],e=0;e<this.list.length;e++)t.push({value:this.list[e],active:!1});return t.length>this.activeIndex&&(t[this.activeIndex].active=!0),t}},watch:{list:function(){this.activeIndex=0}},created:function(){this.props&&(this.activeIndex=this.props.active||0)},mounted:function(){},methods:{clickItem:function(t,e){this.activeIndex=e,t.active=!0,this.$emit("click-item",t.value,e)}}},s=u,l=(o("7395"),o("2877")),r=Object(l["a"])(s,n,i,!1,null,"414ca036",null);e["a"]=r.exports}}]);