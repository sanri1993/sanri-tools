(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21ebb6"],{d78e:function(e,t,o){"use strict";o.r(t);var l=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("el-button",{staticClass:"margin-bottom",attrs:{type:"primary",size:"small"},on:{click:function(t){e.dialog.createRole.visible=!0}}},[e._v("新建")]),o("el-table",{attrs:{data:e.roles,size:"mini",border:"",stripe:"","highlight-current-row":""}},[o("el-table-column",{attrs:{type:"index",width:"55"}}),o("el-table-column",{attrs:{prop:"toolRole.rolename",label:"角色名称",sortable:""}}),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.detail(t.row.toolRole.rolename)}}},[e._v("详情")]),o("span",{directives:[{name:"show",rawName:"v-show",value:"admin"!==t.row.toolRole.rolename,expression:"scope.row.toolRole.rolename !== 'admin'"}],staticClass:"margin-left"},[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.delRole(t.row.toolRole.rolename)}}},[o("span",{staticClass:"text-danger"},[e._v("删除")])])],1)]}}])})],1),o("el-dialog",{attrs:{visible:e.dialog.createRole.visible,width:"50%",title:"新建角色"},on:{"update:visible":function(t){return e.$set(e.dialog.createRole,"visible",t)}}},[o("el-form",{attrs:{size:"mini",model:e.dialog.createRole.role}},[o("el-button",{staticClass:"margin-bottom",attrs:{type:"primary",size:"small"},on:{click:e.createRole}},[e._v("确定")]),o("el-form-item",[o("el-input",{attrs:{placeholder:"请输入角色名称",size:"small"},model:{value:e.dialog.createRole.role.toolRole.rolename,callback:function(t){e.$set(e.dialog.createRole.role.toolRole,"rolename",t)},expression:"dialog.createRole.role.toolRole.rolename"}})],1),o("el-form-item",[o("el-row",{},[o("el-col",{attrs:{span:11}},[o("div",{staticStyle:{height:"300px","overflow-y":"scroll"}},[o("el-tree",{ref:"groupTree",attrs:{data:e.dialog.accessGroups,"check-strictly":!0,"node-key":"path","default-expanded-keys":["/"],props:{label:"path"},"show-checkbox":""}})],1)]),o("el-col",{staticClass:"margin-left",attrs:{span:11}},[o("div",{staticStyle:{height:"300px","overflow-y":"scroll"}},[o("el-tree",{ref:"resourceTree",attrs:{data:e.dialog.accessResources,"check-strictly":!0,"node-key":"id","show-checkbox":""}})],1)])],1)],1)],1)],1)],1)},a=[],s=(o("ac1f"),o("5319"),o("b0eb")),r={name:"Role",data:function(){return{roles:[],dialog:{accessResources:[],accessGroups:[],createRole:{visible:!1,role:{toolRole:{rolename:null},groups:[],resources:[]}}}}},created:function(){var e=this;this.loadRoles(),s["a"].accessGroups().then((function(t){e.dialog.accessGroups=[t.data]})),s["a"].accessResources().then((function(t){e.dialog.accessResources=t.data}))},methods:{loadRoles:function(){var e=this;s["a"].accessRoles().then((function(t){e.roles=t.data}))},delRole:function(e){var t=this;s["a"].delRole(e).then((function(e){t.loadRoles()}))},createRole:function(){var e=this;this.dialog.createRole.role.groups=this.$refs.groupTree.getCheckedKeys(),this.dialog.createRole.role.resources=this.$refs.resourceTree.getCheckedKeys(),s["a"].addRole(this.dialog.createRole.role).then((function(t){e.dialog.createRole.visible=!1,e.loadRoles()}))},detail:function(e){this.$router.replace({path:"/security/role/detail",query:{rolename:e}})}}},i=r,c=o("2877"),n=Object(c["a"])(i,l,a,!1,null,"681bde3b",null);t["default"]=n.exports}}]);