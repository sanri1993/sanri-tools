(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b6eb8"],{"1ee3":function(e,s,r){"use strict";r.r(s);var t=function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("div",{staticClass:"app-container"},[r("el-row",[r("el-descriptions",{attrs:{title:"角色基本信息",direction:"vertical",column:4,border:""}},[r("el-descriptions-item",{attrs:{label:"角色名称"}},[e._v(e._s(e.rolename))]),r("el-descriptions-item",{attrs:{label:"资源列表"}},["admin"===e.rolename?e._l(e.role.resources,(function(s){return r("el-tag",{key:s,staticClass:"margin-left margin-top",attrs:{size:"small"}},[e._v(e._s(s))])})):e._l(e.role.resources,(function(s){return r("el-tag",{key:s,staticClass:"margin-left margin-top",attrs:{closable:"",size:"small"},on:{close:function(r){return e.delResource(s)}}},[e._v(e._s(s))])}))],2),r("el-descriptions-item",{attrs:{label:"组织列表"}},["admin"===e.rolename?e._l(e.role.groups,(function(s){return r("el-tag",{key:s,staticClass:"margin-left margin-top",attrs:{size:"small"}},[e._v(e._s(s))])})):e._l(e.role.groups,(function(s){return r("el-tag",{key:s,staticClass:"margin-left margin-top",attrs:{closable:"",size:"small"},on:{close:function(r){return e.delGroup(s)}}},[e._v(e._s(s))])}))],2)],1)],1),r("el-row",{},[r("div",{staticClass:"margin-bottom margin-top"},[r("b",[e._v("可访问资源")])]),r("el-tree",{ref:"accessResourceTree",attrs:{data:e.accessResources,"node-key":"id"}})],1)],1)},o=[],n=(r("a434"),r("a15b"),r("b0eb")),a={name:"role_detail",data:function(){return{rolename:null,accessResources:[],role:{toolRole:{}},roleExtend:{grantGroups:[],grantResources:[]}}},mounted:function(){var e=this;this.rolename=this.$route.query.rolename,n["a"].queryRole(this.rolename).then((function(s){e.role=s.data})),this.reloadAccessResources()},methods:{reloadAccessResources:function(){var e=this;n["a"].queryRoleAccessResources(this.rolename).then((function(s){e.accessResources=s.data}))},delResource:function(e){var s=this;this.role.resources.splice(this.role.resources.indexOf(e),1),n["a"].roleGrantResources(this.rolename,this.role.resources.join(",")).then((function(e){s.reloadAccessResources()}))},delGroup:function(e){this.role.groups.splice(this.role.groups.indexOf(e),1),n["a"].roleGrantGroups(this.rolename,this.role.groups.join(",")).then((function(e){}))}}},l=a,i=r("2877"),c=Object(i["a"])(l,t,o,!1,null,"35d4a554",null);s["default"]=c.exports}}]);