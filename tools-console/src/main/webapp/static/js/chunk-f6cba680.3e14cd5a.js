(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f6cba680"],{"11c1":function(e,a,t){var n=t("c437"),l=t("c64e"),i=l;i.v1=n,i.v4=l,e.exports=i},2366:function(e,a){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);function l(e,a){var n=a||0,l=t;return[l[e[n++]],l[e[n++]],l[e[n++]],l[e[n++]],"-",l[e[n++]],l[e[n++]],"-",l[e[n++]],l[e[n++]],"-",l[e[n++]],l[e[n++]],"-",l[e[n++]],l[e[n++]],l[e[n++]],l[e[n++]],l[e[n++]],l[e[n++]]].join("")}e.exports=l},"6caf":function(e,a,t){"use strict";var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("span",{staticClass:"append-button-group margin-right"},[t("el-button",{staticClass:"text-danger",attrs:{type:"text",size:"small",icon:"el-icon-refresh"},on:{click:e.refreshConnections}})],1),t("el-select",{attrs:{filterable:"",clearable:"",placeholder:"选择连接",size:"small"},on:{change:e.switchConnection},model:{value:e.connName,callback:function(a){e.connName=a},expression:"connName"}},e._l(e.connections,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1),e.catalogs.length>0?[t("el-select",{staticClass:"margin-left",attrs:{filterable:"",clearable:"",placeholder:"选择 catalog",size:"small"},on:{change:function(a){return e.switchNamespace("catalog")}},model:{value:e.namespace.catalog,callback:function(a){e.$set(e.namespace,"catalog",a)},expression:"namespace.catalog"}},e._l(e.catalogs,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)]:e._e(),e.schemas.length>0?[t("el-select",{staticClass:"margin-left",attrs:{filterable:"",clearable:"",placeholder:"选择 schema",size:"small"},on:{change:function(a){return e.switchNamespace("schema")}},model:{value:e.namespace.schema,callback:function(a){e.$set(e.namespace,"schema",a)},expression:"namespace.schema"}},e._l(e.schemas,(function(e){return t("el-option",{key:e.schema,attrs:{label:e.schema,value:e.schema}})})),1)]:e._e()],2)},l=[],i=t("c48b"),s=t("b1a9"),o={name:"DataSourceChose",data:function(){return{connName:null,namespace:{catalog:null,schema:null},connections:[],catalogs:[],schemas:[]}},methods:{switchConnection:function(e){var a=this;this.connName=e,this.$emit("changeConnName",e),this.catalogs.length=0,this.schemas.length=0,this.connName&&i["a"].catalogs(this.connName).then((function(e){a.catalogs=e.data,a.catalogs&&a.catalogs.length>0?(a.namespace.catalog=a.catalogs[0],a.$emit("changeNamespace",a.namespace),a.switchNamespace("catalog")):i["a"].schemas(a.connName).then((function(e){a.schemas=e.data,a.schemas&&a.schemas.length>0&&(a.namespace.schema=a.schemas[0].schema,a.$emit("changeNamespace",a.namespace))}))}))},refreshConnections:function(){var e=this;s["a"].security.moduleConnectNames("database").then((function(a){e.connections=a.data}))},switchNamespace:function(e){var a=this;"catalog"===e?(this.$emit("changeNamespace",this.namespace),this.schemas.length=0,i["a"].catalogSchemas(this.connName,this.namespace.catalog).then((function(e){a.schemas=e.data,a.schemas&&a.schemas.length>0&&(a.namespace.schema=a.schemas[0].schema)}))):"schema"===e&&this.$emit("changeNamespace",this.namespace)},getConnName:function(){return this.connName},getNamespace:function(){return this.namespace}},mounted:function(){this.refreshConnections()}},r=o,c=t("2877"),m=Object(c["a"])(r,n,l,!1,null,"6ba25e74",null);a["a"]=m.exports},7395:function(e,a,t){"use strict";t("dc19")},"761b":function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"app-container"},[t("el-tabs",{model:{value:e.tabs.activeTabName,callback:function(a){e.$set(e.tabs,"activeTabName",a)},expression:"tabs.activeTabName"}},[t("el-tab-pane",{attrs:{label:"代码生成(模板)",name:"first"}},[t("el-row",[t("el-col",{attrs:{span:6}},[t("table-manage",{ref:"firstTableManage"})],1),t("el-col",{staticClass:"margin-left",attrs:{span:17}},[t("el-row",[t("el-col",{attrs:{span:24}},[t("el-select",{staticStyle:{width:"240px"},attrs:{size:"small"},model:{value:e.input.renameStrategy,callback:function(a){e.$set(e.input,"renameStrategy",a)},expression:"input.renameStrategy"}},e._l(e.renameStrategies,(function(e){return t("el-option",{key:e,attrs:{value:e,label:e}})})),1),t("el-checkbox",{staticClass:"margin-left",model:{value:e.input.single,callback:function(a){e.$set(e.input,"single",a)},expression:"input.single"}},[e._v("单文件")]),t("el-button",{staticClass:"margin-left",attrs:{type:"primary",size:"small"},on:{click:e.generateCodeConfirm}},[e._v("确认参数后生成")])],1)],1),t("el-row",{staticClass:"margin-top"},[t("schema-manage",{ref:"schemaManage"})],1),t("el-row",{staticClass:"margin-top"},[t("package-config",{ref:"firstPackageConfig"})],1)],1)],1)],1),t("el-tab-pane",{attrs:{label:"代码生成(mapper)",name:"second"}},[t("el-row",[t("el-col",{attrs:{span:24}},[t("mapper-build")],1)],1)],1),t("el-tab-pane",{attrs:{label:"代码生成(project)",name:"third"}},[t("el-row",[t("el-col",{attrs:{span:24}},[t("project-build")],1)],1)],1)],1),t("el-dialog",{attrs:{visible:e.dialog.templateConfirm.visible,title:e.dialog.templateConfirm.title},on:{"update:visible":function(a){return e.$set(e.dialog.templateConfirm,"visible",a)}}},[t("vue-json-editor",{staticClass:"editor-wrapper",staticStyle:{height:"70vh"},attrs:{"expanded-on-start":!0,"show-btns":!1,lang:"zh"},model:{value:e.dialog.templateConfirm.params,callback:function(a){e.$set(e.dialog.templateConfirm,"params",a)},expression:"dialog.templateConfirm.params"}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.generateCode}},[e._v("生 成")])],1)],1)],1)},l=[],i=(t("d81d"),t("c48b")),s=t("b1a9"),o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"panel panel-default"},[t("div",{staticClass:"panel-heading"},[e._v("方案管理")]),t("div",{staticClass:"panel-body"},[t("el-row",[t("el-col",[t("el-select",{attrs:{size:"small"},on:{change:e.switchSchema},model:{value:e.input.schema,callback:function(a){e.$set(e.input,"schema",a)},expression:"input.schema"}},e._l(e.schemas,(function(e){return t("el-option",{key:e,attrs:{value:e,label:e}})})),1),t("el-button",{staticClass:"margin-left",attrs:{size:"small",type:"text",icon:"el-icon-plus"},on:{click:e.openSchemaDialog}},[e._v("编辑方案")]),t("el-upload",{staticClass:"margin-left",staticStyle:{display:"inline-block"},attrs:{action:"#","show-file-list":!1,"http-request":e.uploadTemplate}},[t("el-button",{attrs:{slot:"trigger",size:"small",icon:"el-icon-plus",type:"text"},slot:"trigger"},[e._v("新模板")])],1),t("el-button",{staticClass:"margin-left",attrs:{type:"text",icon:"el-icon-plus"},on:{click:function(a){e.exampleDialog.visible=!0}}},[e._v("模板示例")])],1)],1),t("el-row",{staticClass:"margin-top"},[t("el-col",{attrs:{span:6}},[t("list-group",{attrs:{list:e.templates},on:{"click-item":e.choseTemplate}})],1),t("el-col",{staticClass:"margin-left",attrs:{span:17}},[t("el-button",{attrs:{size:"small",type:"plain"},on:{click:e.saveTemplate}},[t("i",{staticClass:"fa fa-floppy-o",attrs:{"aria-hidden":"true"}}),e._v(" 保存模板")]),t("el-input",{staticClass:"padding-top",attrs:{type:"textarea",autosize:{minRows:10,maxRows:20},placeholder:"模板数据"},model:{value:e.content,callback:function(a){e.content=a},expression:"content"}})],1)],1)],1)]),t("el-dialog",{attrs:{visible:e.exampleDialog.visible,width:"60%",title:e.exampleDialog.title},on:{"update:visible":function(a){return e.$set(e.exampleDialog,"visible",a)}}},[t("template-example")],1),t("el-dialog",{attrs:{visible:e.dialog.visible,title:e.dialog.title},on:{"update:visible":function(a){return e.$set(e.dialog,"visible",a)}}},[t("el-input",{attrs:{placeholder:"输入方案名",size:"small"},model:{value:e.dialog.schemaName,callback:function(a){e.$set(e.dialog,"schemaName",a)},expression:"dialog.schemaName"}}),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.templateSelectTable,border:"",stripe:"",size:"mini","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{prop:"name",label:"模板名"}})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.createSchema}},[e._v("确 认")])],1)],1)],1)},r=[],c=(t("b0c0"),t("a15b"),t("f3cc")),m=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"app-container"},[t("el-row",[t("el-col",{attrs:{span:8}},[t("p",[t("b",[e._v("通用变量")])]),t("pre",{staticClass:"el-card code-preview"},[e._v("date: String yyyy-MM-dd\ntime: String HH:mm:ss\nauthor: String 服务器用户名\nconnectProperties: Map\n  url: String 连接数据库 url\n  username: String 连接数据库用户名\n  driverClassName: String 驱动类名\n        ")])]),t("el-col",{attrs:{span:8}},[t("p",[t("b",[e._v("单文件生成变量列表(多表)")])]),t("pre",{staticClass:"code-preview el-card"},[e._v("tables: List<TableMetaData>  数据表列表\n  actualTableName: ActualTableName 表名信息\n    namespace: Namespace\n      catalog: String\n      schema: String\n    tableName: String\n  table: Table\n    actualTableName: ActualTableName\n    remark: String\n  columns: List<Column>\n    actualTableName: ActualTableName\n    columnName: String\n    dataType: int 字段类型 javax.sql.Types\n    typeName: String\n    columnSize: int 列长度\n    decimalDigits: int 列精度\n    nullable: boolean 是否可以空, 真表示可以空\n    remark: String,\n    autoIncrement: boolean 自增\n    defaultValue: String 默认值\n  indices: List<Index> 索引信息\n    actualTableName: ActualTableName\n    unique: boolean\n    indexName: String\n    indexType: short\n    ordinalPosition: short\n    columnName: String\n  primaryKeys: List<PrimaryKey>\n    actualTableName: ActualTableName\n    columnName: String\n    keySeq: int\n    pkName: String\n\n        ")])]),t("el-col",{attrs:{span:8}},[t("p",[t("b",[e._v("多文件生成变量列表(单表)")])]),t("pre",{staticClass:"code-preview el-card"},[e._v("table: TableMetaData\nmapping: JavaBeanInfo\n  className: String\n  lowerClassName: String\n  imports: Set<String>\n  fields: BeanField\n    typeName: String\n    fieldName: String\n    comment: String\n    key: boolean\n    column: Column\n    capitalName: String\npackage: PackageConfig\n  parent: String\n  mapper: String\n  service: String\n  controller: String\n  entity: String\n  vo: String\n  dto: String\n  param: String\n        ")])])],1),t("el-tabs",{attrs:{"active-name":e.tabs.activeTabName,"tab-position":"top"}},e._l(e.examples,(function(a){return t("el-tab-pane",{key:a.key,attrs:{name:a.key,label:a.key}},[t("pre",{staticClass:"code-preview"},[e._v(e._s(a.value))])])})),1)],1)},p=[],u={name:"TemplateExample",data:function(){return{tabs:{activeTabName:"example-0"},examples:[]}},methods:{},mounted:function(){var e=this;i["a"].templateExamples().then((function(a){e.examples=a.data,e.examples.length>0&&(e.tabs.activeTabName=e.examples[0].key)}))}},d=u,f=(t("c8e9"),t("2877")),g=Object(f["a"])(d,m,p,!1,null,"600a10b1",null),b=g.exports,h={name:"SchemaManage",components:{ListGroup:c["a"],TemplateExample:b},data:function(){return{input:{schema:null,template:null},schemas:[],templates:[],content:null,dialog:{schemaName:null,visible:!1,title:"创建新方案",templates:[],selectedTemplate:[]},exampleDialog:{visible:!1,title:"模板示例"}}},computed:{templateSelectTable:function(){return this.dialog.templates?this.dialog.templates.map((function(e){return{name:e}})):[]}},mounted:function(){this.refreshSchemas(),this.refreshTemplates()},methods:{saveTemplate:function(){var e=this;i["a"].override({name:this.input.template,content:this.content}).then((function(a){e.$message("模板覆盖成功")}))},openSchemaDialog:function(){this.dialog.visible=!0,this.dialog.schemaName=this.input.schema},refreshTemplates:function(){var e=this;i["a"].templates().then((function(a){e.dialog.templates=a.data}))},refreshSchemas:function(){var e=this;i["a"].codeSchemas().then((function(a){e.schemas=a.data,a.data&&a.data.length>0&&e.switchSchema(a.data[0])}))},handleSelectionChange:function(e){e&&(this.dialog.selectedTemplate=e.map((function(e){return e.name})))},switchSchema:function(e){var a=this;this.input.schema=e,i["a"].codeSchemaTemplates(e).then((function(e){a.templates=e.data,e.data&&e.data.length>0&&a.choseTemplate(e.data[0])}))},choseTemplate:function(e){var a=this;this.input.template=e,i["a"].templateContent(e).then((function(e){a.content=e.data}))},dropSchemaTemplate:function(){},addSchemaTemplate:function(){},dropSchema:function(){},createSchema:function(){var e=this,a=this.dialog.schemaName+".schema",t=this.dialog.selectedTemplate.join("\n");i["a"].override({name:a,content:t}).then((function(a){e.dialog.visible=!1,e.refreshSchemas()}))},uploadTemplate:function(e){var a=this,t=e.file,n=new FormData;n.append("file",t,t.name),i["a"].uploadTemplate(n).then((function(e){a.refreshTemplates(),a.$message("模板上传成功")}))},dropTemplate:function(){},modifyTemplate:function(){},getSchema:function(){return this.input.schema}}},v=h,y=Object(f["a"])(v,o,r,!1,null,"6c3522ab",null),C=y.exports,k=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"panel panel-default"},[e._m(0),t("div",{staticClass:"panel-body"},[t("el-button-group",{staticClass:"padding-bottom"},[t("el-button",{attrs:{plain:"",circle:"",size:"small",icon:"el-icon-plus"},on:{click:function(a){e.dialog.visible=!0}}}),t("el-button",{attrs:{plain:"",circle:"",size:"small",icon:"el-icon-folder-delete"},on:{click:e.cleanAllTable}})],1),t("ul",{staticClass:"list-group ",staticStyle:{height:"70vh","overflow-y":"scroll"}},e._l(e.selectedTables,(function(a,n){return t("li",{staticClass:"list-group-item"},[t("span",[e._v(e._s(a.table.actualTableName.tableName))]),t("a",{staticClass:"pull-right cursor-point text-danger",on:{click:function(a){return e.selectedTables.splice(n,1)}}},[t("i",{staticClass:"fa fa-trash "}),e._v(" 删除")])])})),0)],1)]),t("el-dialog",{attrs:{visible:e.dialog.visible,title:e.dialog.title},on:{"update:visible":function(a){return e.$set(e.dialog,"visible",a)}}},[t("el-row",[t("data-source-chose",{on:{changeConnName:e.changeConn,changeNamespace:e.changeNamespace}})],1),t("el-row",[t("el-col",{attrs:{span:24}},[t("table-search",{ref:"tableSearch",attrs:{selection:!0,"conn-name":e.connName,namespace:e.namespace}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.selectTables}},[e._v("确 认")])],1)],1)],1)},N=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"panel-heading"},[t("i",{staticClass:"el-icon-setting"}),e._v(" 数据源设置")])}],x=(t("b64b"),t("c068")),T=t("6caf"),S={name:"TableManage",components:{TableSearch:x["a"],DataSourceChose:T["a"]},data:function(){return{selectedTables:[],dialog:{visible:!1,title:"选择表"},connName:null,namespace:{catalog:null,schema:null}}},mounted:function(){},methods:{changeConn:function(e){this.connName=e},changeNamespace:function(e){this.namespace=e},selectTables:function(){this.selectedTables=this.$refs.tableSearch.getChoseTables(),this.dialog.visible=!1},getDataSource:function(){return 0===Object.keys(this.$refs).length?(this.$message("请先选择数据表"),null):{tables:this.$refs.tableSearch.getChoseTables(),connName:this.connName,namespace:this.namespace}},cleanAllTable:function(){this.selectedTables=[]}}},w=S,j=(t("ce93"),Object(f["a"])(w,k,N,!1,null,"d0ee88fa",null)),_=j.exports,$=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("el-row",[t("el-col",{staticClass:"padding-right",attrs:{span:6}},[t("table-manage",{ref:"tablemanager"})],1),t("el-col",{attrs:{span:18}},[t("el-button-group",[t("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-toilet-paper"},on:{click:e.generate}},[e._v("生成")])],1),t("el-form",{staticClass:"margin-top",attrs:{size:"mini",inline:!0,"label-width":"100px"}},[t("el-row",[t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:"targetRuntime"}},[t("el-select",{on:{change:e.changeRuntime},model:{value:e.input.targetRuntime,callback:function(a){e.$set(e.input,"targetRuntime",a)},expression:"input.targetRuntime"}},e._l(e.targetRuntimes,(function(e){return t("el-option",{key:e,attrs:{value:e,label:e}})})),1)],1),t("el-form-item",{attrs:{label:"javaClientType"}},[t("el-select",{attrs:{disabled:e.view.javaClientTypeDisabled},model:{value:e.input.javaClientType,callback:function(a){e.$set(e.input,"javaClientType",a)},expression:"input.javaClientType"}},e._l(e.javaClientTypes,(function(e){return t("el-option",{key:e,attrs:{value:e,label:e}})})),1)],1),t("el-form-item",{attrs:{label:"modelType"}},[t("el-select",{model:{value:e.input.modelType,callback:function(a){e.$set(e.input,"modelType",a)},expression:"input.modelType"}},e._l(e.modelTypes,(function(e){return t("el-option",{key:e,attrs:{value:e,label:e}})})),1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:"filesConfig"}},[t("el-checkbox",{attrs:{label:"entity"},model:{value:e.input.filesConfig.entity,callback:function(a){e.$set(e.input.filesConfig,"entity",a)},expression:"input.filesConfig.entity"}}),t("el-checkbox",{attrs:{label:"xml"},model:{value:e.input.filesConfig.xml,callback:function(a){e.$set(e.input.filesConfig,"xml",a)},expression:"input.filesConfig.xml"}}),t("el-checkbox",{attrs:{label:"mapper"},model:{value:e.input.filesConfig.mapper,callback:function(a){e.$set(e.input.filesConfig,"mapper",a)},expression:"input.filesConfig.mapper"}})],1)],1)],1)],1),t("package-config",{ref:"packageConfig"}),t("div",{staticClass:"panel panel-default"},[t("div",{staticClass:"panel-heading"},[t("el-checkbox",{model:{value:e.input.pluginConfigs.tkmybatis.enable,callback:function(a){e.$set(e.input.pluginConfigs.tkmybatis,"enable",a)},expression:"input.pluginConfigs.tkmybatis.enable"}}),e._v(" 插件配置(tk.mybatis.mapper.generator.MapperPlugin)")],1),t("div",{staticClass:"panel-body"},[t("el-form",{attrs:{size:"mini","label-width":"120px",disabled:!e.input.pluginConfigs.tkmybatis.enable}},[t("el-form-item",{attrs:{label:"mappers"}},[t("el-input",{attrs:{placeholder:"输入 mappers "},model:{value:e.input.pluginConfigs.tkmybatis.properties.mappers,callback:function(a){e.$set(e.input.pluginConfigs.tkmybatis.properties,"mappers",a)},expression:"input.pluginConfigs.tkmybatis.properties.mappers"}})],1),t("el-form-item",{attrs:{label:"caseSensitive"}},[t("el-checkbox",{model:{value:e.input.pluginConfigs.tkmybatis.properties.caseSensitive,callback:function(a){e.$set(e.input.pluginConfigs.tkmybatis.properties,"caseSensitive",a)},expression:"input.pluginConfigs.tkmybatis.properties.caseSensitive"}},[e._v("caseSensitive")])],1),t("el-form-item",{attrs:{label:"forceAnnotation"}},[t("el-checkbox",{model:{value:e.input.pluginConfigs.tkmybatis.properties.forceAnnotation,callback:function(a){e.$set(e.input.pluginConfigs.tkmybatis.properties,"forceAnnotation",a)},expression:"input.pluginConfigs.tkmybatis.properties.forceAnnotation"}},[e._v("forceAnnotation")])],1),t("el-form-item",{attrs:{label:"delimiter"}},[t("el-col",{attrs:{span:2}},[t("el-input",{model:{value:e.input.pluginConfigs.tkmybatis.properties.beginningDelimiter,callback:function(a){e.$set(e.input.pluginConfigs.tkmybatis.properties,"beginningDelimiter",a)},expression:"input.pluginConfigs.tkmybatis.properties.beginningDelimiter"}})],1),t("el-col",{attrs:{span:2}},[t("el-input",{model:{value:e.input.pluginConfigs.tkmybatis.properties.endingDelimiter,callback:function(a){e.$set(e.input.pluginConfigs.tkmybatis.properties,"endingDelimiter",a)},expression:"input.pluginConfigs.tkmybatis.properties.endingDelimiter"}})],1)],1),t("el-form-item",{attrs:{label:"lombok"}},[t("el-checkbox-group",{model:{value:e.input.lombokArray,callback:function(a){e.$set(e.input,"lombokArray",a)},expression:"input.lombokArray"}},[t("el-checkbox",{attrs:{label:"Getter"}}),t("el-checkbox",{attrs:{label:"Setter"}}),t("el-checkbox",{attrs:{label:"ToString"}}),t("el-checkbox",{attrs:{label:"Accessors"}})],1)],1)],1)],1)])],1)],1)],1)},M=[],D=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"panel panel-default"},[t("div",{staticClass:"panel-heading"},[e._v("包路径设置")]),t("div",{staticClass:"panel-body"},[t("el-form",{attrs:{size:"mini","label-width":"120px"}},[t("el-form-item",{attrs:{label:"基础包"}},[t("el-input",{attrs:{placeholder:"基础包，自动生成下面的包数据"},nativeOn:{keyup:function(a){return e.autoCompleteConfig(a)}},model:{value:e.form.base,callback:function(a){e.$set(e.form,"base",a)},expression:"form.base"}})],1),t("el-form-item",{attrs:{label:"项目名"}},[t("el-input",{attrs:{placeholder:"项目名称"},model:{value:e.form.projectName,callback:function(a){e.$set(e.form,"projectName",a)},expression:"form.projectName"}})],1),t("el-form-item",{attrs:{label:"entity+mapper"}},[t("el-col",{attrs:{span:11}},[t("el-input",{attrs:{placeholder:"entity"},model:{value:e.form.entity,callback:function(a){e.$set(e.form,"entity",a)},expression:"form.entity"}})],1),t("el-col",{staticClass:"margin-left",attrs:{span:11}},[t("el-input",{attrs:{placeholder:"mapper"},model:{value:e.form.mapper,callback:function(a){e.$set(e.form,"mapper",a)},expression:"form.mapper"}})],1)],1),t("el-form-item",{attrs:{label:"action+service"}},[t("el-col",{attrs:{span:11}},[t("el-input",{attrs:{placeholder:"controller"},model:{value:e.form.controller,callback:function(a){e.$set(e.form,"controller",a)},expression:"form.controller"}})],1),t("el-col",{staticClass:"margin-left",attrs:{span:11}},[t("el-input",{attrs:{placeholder:"service"},model:{value:e.form.service,callback:function(a){e.$set(e.form,"service",a)},expression:"form.service"}})],1)],1),t("el-form-item",{attrs:{label:"vo+dto"}},[t("el-col",{attrs:{span:11}},[t("el-input",{attrs:{placeholder:"vo"},model:{value:e.form.vo,callback:function(a){e.$set(e.form,"vo",a)},expression:"form.vo"}})],1),t("el-col",{staticClass:"margin-left",attrs:{span:11}},[t("el-input",{attrs:{placeholder:"dto"},model:{value:e.form.dto,callback:function(a){e.$set(e.form,"dto",a)},expression:"form.dto"}})],1)],1),t("el-form-item",{attrs:{label:"param"}},[t("el-input",{attrs:{placeholder:"param"},model:{value:e.form.param,callback:function(a){e.$set(e.form,"param",a)},expression:"form.param"}})],1)],1)],1)])},A=[],R=(t("ac1f"),t("1276"),{name:"PackageConfig",data:function(){return{form:{entity:null,mapper:null,controller:null,service:null,vo:null,dto:null,param:null,base:null,projectName:null}}},methods:{getPackageConfig:function(){return this.form},autoCompleteConfig:function(){if(this.form.base){var e=this.form.base,a=e,t=e.split(".");t.length>0&&(a=t[t.length-1]),Object.assign(this.form,{entity:e+".mapper.entity",mapper:e+".mapper",controller:e+".web.controller",service:e+".service",vo:e+".dto.vo",dto:e+".dto",param:e+".dto.param",groupId:e,artifactId:a,projectName:a})}}}}),P=R,I=(t("c5c6"),Object(f["a"])(P,D,A,!1,null,"3a4aeb81",null)),O=I.exports,E={name:"MapperBuild",components:{TableManage:_,PackageConfig:O},data:function(){return{input:{targetRuntime:"MyBatis3Simple",modelType:"FLAT",javaClientType:"XMLMAPPER",filesConfig:{entity:!0,xml:!0,mapper:!0},lombokArray:["Getter","Setter","ToString","Accessors"],pluginConfigs:{tkmybatis:{enable:!1,type:"tk.mybatis.mapper.generator.MapperPlugin",properties:{mappers:"tk.mybatis.mapper.common.Mapper",caseSensitive:!0,forceAnnotation:!0,beginningDelimiter:"`",endingDelimiter:"`",lombok:null}}}},view:{javaClientTypeDisabled:!1},modelTypes:["FLAT","CONDITIONAL","HIERARCHICAL"],targetRuntimes:["MyBatis3Simple","MyBatis3DynamicSql","MyBatis3Kotlin","MyBatis3"],javaClientTypes:["XMLMAPPER","ANNOTATEDMAPPER"]}},methods:{generate:function(){var e=this.$refs.tablemanager.getDataSource();e.tableNames=e.tables.map((function(e){return e.table.actualTableName.tableName}));var a=this.$refs.packageConfig.getPackageConfig(),t={projectName:a.projectName,dataSourceConfig:e,packageConfig:a,pluginConfigs:[],filesConfig:this.input.filesConfig,targetRunTime:this.input.targetRuntime,modelType:this.input.modelType,javaClientType:this.input.javaClientType};for(var n in this.input.pluginConfigs.tkmybatis.properties.lombok=this.input.lombokArray.join(","),this.input.pluginConfigs)this.input.pluginConfigs[n].enable&&t.pluginConfigs.push(this.input.pluginConfigs[n]);i["a"].buildMapper(t).then((function(e){s["a"].fileDownload(e.data)}))},changeRuntime:function(e){switch(this.input.targetRuntime=e,e){case"MyBatis3DynamicSql":case"MyBatis3Kotlin":this.view.javaClientTypeDisabled=!0;break;case"MyBatis3":this.view.javaClientTypeDisabled=!1,this.javaClientTypes=["XMLMAPPER","MIXEDMAPPER","ANNOTATEDMAPPER"];break;case"MyBatis3Simple":this.view.javaClientTypeDisabled=!1,this.javaClientTypes=["XMLMAPPER","ANNOTATEDMAPPER"];break}}}},z=E,B=Object(f["a"])(z,$,M,!1,null,"8cea7dbc",null),q=B.exports,L=t("45a3"),V=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("el-row",[t("el-col",{staticClass:"padding-right",attrs:{span:6}},[t("table-manage",{ref:"tablemanager"})],1),t("el-col",{attrs:{span:18}},[t("el-button-group",{staticClass:"margin-bottom"},[t("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-toilet-paper"},on:{click:e.generate}},[e._v("生成")])],1),t("div",{staticClass:"panel panel-default"},[t("div",{staticClass:"panel-heading"},[e._v("全局设置")]),t("div",{staticClass:"panel-body"},[t("el-form",{attrs:{inline:"",size:"mini"}},[t("el-form-item",{attrs:{label:""}})],1)],1)]),t("package-config",{ref:"packageConfig"}),t("div",{staticClass:"panel panel-default"},[t("div",{staticClass:"panel-heading"},[e._v("Maven 版本配置")]),t("div",{staticClass:"panel-body"},[t("el-form",{attrs:{size:"mini",inline:""}},[t("el-form-item",{attrs:{label:"groupId"}},[t("el-input",{model:{value:e.input.mavenConfig.groupId,callback:function(a){e.$set(e.input.mavenConfig,"groupId",a)},expression:"input.mavenConfig.groupId"}})],1),t("el-form-item",{attrs:{label:"artifactId"}},[t("el-input",{model:{value:e.input.mavenConfig.artifactId,callback:function(a){e.$set(e.input.mavenConfig,"artifactId",a)},expression:"input.mavenConfig.artifactId"}})],1),t("el-form-item",{attrs:{label:"version"}},[t("el-input",{model:{value:e.input.mavenConfig.version,callback:function(a){e.$set(e.input.mavenConfig,"version",a)},expression:"input.mavenConfig.version"}})],1),t("el-form-item",{attrs:{label:"springBootVersion"}},[t("el-input",{model:{value:e.input.mavenConfig.springBootVersion,callback:function(a){e.$set(e.input.mavenConfig,"springBootVersion",a)},expression:"input.mavenConfig.springBootVersion"}})],1)],1)],1)])],1)],1)],1)},F=[],G={name:"ProjectBuild",components:{TableManage:_,PackageConfig:O},data:function(){return{input:{mavenConfig:{groupId:null,artifactId:null,version:"1.0-SNAPSHOT",springBootVersion:"2.0.5.RELEASE"},globalConfig:{}}}},methods:{generate:function(){}}},K=G,H=Object(f["a"])(K,V,F,!1,null,"5443517f",null),J=H.exports,X={name:"CodeGenerate",components:{SchemaManage:C,TableManage:_,MapperBuild:q,PackageConfig:O,vueJsonEditor:L["a"],ProjectBuild:J},data:function(){return{input:{renameStrategy:null,single:!0},tabs:{activeTabName:"first"},renameStrategies:[],dialog:{templateConfirm:{visible:!1,title:"确认配置是否正确",params:{}}}}},computed:{},mounted:function(){var e=this;i["a"].renameStrategies().then((function(a){e.renameStrategies=a.data,a.data&&a.data.length>0&&(e.input.renameStrategy=a.data[0])}))},methods:{generateCodeConfirm:function(){var e=this,a=this.$refs.firstTableManage.getDataSource();if(a){var t={connName:a.connName,namespace:a.namespace};t.tableNames=a.tables.map((function(e){return e.table.actualTableName.tableName}));var n=this.$refs.schemaManage.getSchema(),l=this.$refs.firstPackageConfig.getPackageConfig();i["a"].codeSchemaTemplates(n).then((function(a){var n=a.data;e.dialog.templateConfirm.params={templates:n,dataSourceConfig:t,packageConfig:l,renameStrategyName:e.input.renameStrategy,single:e.input.single},e.dialog.templateConfirm.visible=!0}))}},generateCode:function(){var e=this;i["a"].codeGenerate(this.dialog.templateConfirm.params).then((function(a){s["a"].fileDownload(a.data),e.dialog.templateConfirm.visible=!1}))}}},Q=X,U=(t("d212"),Object(f["a"])(Q,n,l,!1,null,"43ed0763",null));a["default"]=U.exports},a249:function(e,a,t){},af38:function(e,a,t){},be49:function(e,a,t){},c068:function(e,a,t){"use strict";var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("el-row",{staticClass:"margin-bottom margin-top"},[t("el-col",{attrs:{span:18}},[t("el-input",{attrs:{disabled:!e.connName,size:"small",placeholder:"输入表名/字段名/表注释/列注释/table:表名/column:列名/tag:表标记","suffix-icon":"el-icon-search"},nativeOn:{keyup:[function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.searchTables(a)},function(a){return e.keyupSearch(a)}]},model:{value:e.search.keyword,callback:function(a){e.$set(e.search,"keyword",a)},expression:"search.keyword"}},[t("el-select",{staticStyle:{width:"100px"},attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.search.searchSchema,callback:function(a){e.$set(e.search,"searchSchema",a)},expression:"search.searchSchema"}},[t("el-option",{attrs:{label:"全局",value:""}}),t("el-option",{attrs:{label:"table",value:"table"}}),t("el-option",{attrs:{label:"column",value:"column"}}),t("el-option",{attrs:{label:"tag",value:"tag"}})],1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-button-group",{staticClass:"margin-left"},[t("el-button",{attrs:{size:"small",type:"primary",disabled:!e.connName},on:{click:e.generateDoc}},[e._v("下载文档")])],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:24}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"searchTable",attrs:{data:e.tables,border:"",stripe:"",height:"500","row-key":function(e){return"table:"+e.table.actualTableName.tableName+1e3*Math.random()},size:"mini","highlight-current-row":""},on:{"row-click":e.clickTableRow}},[t("el-table-column",{attrs:{type:"index",width:"50"}}),e.selection?[t("el-table-column",{attrs:{type:"selection",width:"55"}})]:e._e(),t("el-table-column",{attrs:{prop:"table.actualTableName.tableName",label:"表名称",width:"260"}}),e.showRemark?[t("el-table-column",{attrs:{prop:"table.remark",label:"表说明"}})]:e._e()],2)],1)],1)],1)},l=[],i=(t("498a"),t("ac1f"),t("841c"),t("c48b")),s=t("b1a9"),o={name:"TableSearch",props:{connName:String,namespace:Object,selection:{type:Boolean,default:!1},showRemark:{type:Boolean,default:!0}},data:function(){return{search:{searchSchema:null,keyword:null},tables:[],loading:!1}},methods:{keyupSearch:function(){this.keyword&&this.keyword.length>10&&this.searchTables()},searchTables:function(){var e=this;this.keyword&&(this.keyword=this.keyword.trim()),this.loading=!0,i["a"].searchTables(this.connName,this.namespace.catalog,[this.namespace.schema],this.search.searchSchema,this.search.keyword).then((function(a){e.tables=a.data,e.loading=!1})).catch((function(a){e.loading=!1}))},generateDoc:function(){i["a"].exportDoc(this.connName,this.namespace.catalog,[this.namespace.schema],this.search.searchSchema,this.search.keyword).then((function(e){s["a"].fileDownload(e.data)}))},getChoseTables:function(){return this.$refs.searchTable.selection},clickTableRow:function(e,a,t){this.$emit("click-row",e,a)}}},r=o,c=t("2877"),m=Object(c["a"])(r,n,l,!1,null,"e183210c",null);a["a"]=m.exports},c437:function(e,a,t){var n,l,i=t("e1f4"),s=t("2366"),o=0,r=0;function c(e,a,t){var c=a&&t||0,m=a||[];e=e||{};var p=e.node||n,u=void 0!==e.clockseq?e.clockseq:l;if(null==p||null==u){var d=i();null==p&&(p=n=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==u&&(u=l=16383&(d[6]<<8|d[7]))}var f=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:r+1,b=f-o+(g-r)/1e4;if(b<0&&void 0===e.clockseq&&(u=u+1&16383),(b<0||f>o)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");o=f,r=g,l=u,f+=122192928e5;var h=(1e4*(268435455&f)+g)%4294967296;m[c++]=h>>>24&255,m[c++]=h>>>16&255,m[c++]=h>>>8&255,m[c++]=255&h;var v=f/4294967296*1e4&268435455;m[c++]=v>>>8&255,m[c++]=255&v,m[c++]=v>>>24&15|16,m[c++]=v>>>16&255,m[c++]=u>>>8|128,m[c++]=255&u;for(var y=0;y<6;++y)m[c+y]=p[y];return a||s(m)}e.exports=c},c48b:function(e,a,t){"use strict";var n=t("5530"),l=(t("a15b"),t("b775")),i=t("4328"),s=t.n(i),o=t("11c1");a["a"]={connections:function(){return l["a"].get("/security/connect/database/connectNames")},catalogs:function(e){return l["a"].get("/db/metadata/catalogs",{params:{connName:e}})},schemas:function(e){return l["a"].get("/db/metadata/schemas",{params:{connName:e}})},catalogSchemas:function(e,a){return l["a"].get("/db/metadata/filterSchemas",{params:{connName:e,catalog:a}})},indices:function(e,a){var t=a.namespace,n=a.tableName;return l["a"].get("/db/metadata/indices",{params:{connName:e,"namespace.catalog":t.catalog,"namespace.schema":t.schema,tableName:n}})},primaryKeys:function(e,a){var t=a.namespace,n=a.tableName;return l["a"].get("/db/metadata/primaryKeys",{params:{connName:e,"namespace.catalog":t.catalog,"namespace.schema":t.schema,tableName:n}})},tables:function(e,a,t){return l["a"].get("/db/metadata/tables",{params:{connName:e,catalog:a,schema:t}})},refreshTable:function(e,a){var t=a.namespace,n=a.tableName;return l["a"].get("/db/metadata/refreshTable",{params:{connName:e,"namespace.catalog":t.catalog,"namespace.schema":t.schema,tableName:n}})},searchTables:function(e,a,t,i,s){return l["a"].get("/db/metadata/searchTables",{params:Object(n["a"])(Object(n["a"])({connName:e,catalog:a},{schemas:t.join(",")}),{},{searchSchema:i,keyword:s})})},compareMeta:function(e){return l["a"].post("/db/metadata/compare",e,l["b"].json)},compareMetaChangeSqls:function(e){return l["a"].post("/db/metadata/compare/changeSqls",e,l["b"].json)},executeQuery:function(e,a,t){return l["a"].post("/db/data/executeQuery",{connName:e,namespace:a,sqls:[t]})},groups:function(e,a){return l["a"].get("/db/data/config/groups",{params:Object(n["a"])({connName:e},a)})},dataIds:function(e,a,t){return l["a"].get("/db/data/config/dataIds",{params:Object(n["a"])(Object(n["a"])({connName:e},a),{},{groupId:t})})},content:function(e,a,t,i){return l["a"].get("/db/data/config/content",{params:Object(n["a"])(Object(n["a"])({connName:e},a),{},{groupId:t,dataId:i})})},emptyTable:function(e,a){var t=a.namespace,n=a.tableName;return l["a"].post("/db/data/emptyTable",s.a.stringify({connName:e,"namespace.catalog":t.catalog,"namespace.schema":t.schema,tableName:n}))},dataChangeSqls:function(e){return l["a"].post("/db/data/dataChangeSqls",e,l["b"].json)},loadRandomMethods:function(){return l["a"].get("/db/data/loadRandomMethods")},tableRandomData:function(e,a,t,n){var i={connName:e,actualTableName:a,columnMappers:t,size:n};return l["a"].post("/db/data/singleTableRandomData",i,l["b"].json)},checkDirtyData:function(e,a){return l["a"].get("/db/data/checkDirtyData",{params:Object(n["a"])({connName:e},a)})},renameStrategies:function(){return l["a"].get("/db/code/renameStrategies")},buildJavaBean:function(e){return l["a"].post("/db/code/build/javaBean",e,l["b"].json)},buildMapper:function(e){return l["a"].post("/db/code/build/mapper",e,l["b"].json)},templates:function(){return l["a"].get("/db/code/templates")},uploadTemplate:function(e){return l["a"].post("/db/code/template/upload",e)},templateContent:function(e){return l["a"].get("/db/code/".concat(e,"/content"))},override:function(e){return l["a"].post("/db/code/override",e,l["b"].json)},codeSchemas:function(){return l["a"].get("/db/code/schemas")},codeSchemaTemplates:function(e){return l["a"].get("/db/code/".concat(e,"/templates"))},codePreview:function(e){return l["a"].post("/db/code/template/code/preview",e)},codeGenerate:function(e){return l["a"].post("/db/code/template/code/generator",e)},tags:function(){return l["a"].get("/db/metadata/extend/mark/tags")},markTag:function(e,a){return l["a"].post("/db/metadata/extend/mark/config/".concat(e,"/tableMark"),a,l["b"].json)},tableTags:function(e,a){var t=a.namespace,n=a.tableName;return l["a"].get("/db/metadata/extend/mark/tableTags",{params:{connName:e,"namespace.catalog":t.catalog,"namespace.schema":t.schema,tableName:n}})},tagTables:function(e,a,t,n){return l["a"].get("/db/metadata/extend/mark/tagTables",{params:{connName:e,catalog:a,schema:t,tag:n}})},configRelation:function(e){return l["a"].post("/db/metadata/extend/relation/config",e,l["b"].json)},configRelationFromSql:function(e){return l["a"].post("/db/metadata/extend/relation/config/fromSql",e,l["b"].json)},parentRelations:function(e,a){return l["a"].get("/db/metadata/extend/relation/parents",{params:Object(n["a"])({connName:e},a)})},childRelations:function(e,a){return l["a"].get("/db/metadata/extend/relation/childs",{params:Object(n["a"])({connName:e},a)})},hierarchy:function(e,a){var t=a.namespace,n=a.tableName;return l["a"].get("/db/metadata/extend/relation/hierarchy",{params:{connName:e,"namespace.catalog":t.catalog,"namespace.schema":t.schema,tableName:n}})},superTypes:function(e,a){var t=a.namespace,n=a.tableName;return l["a"].get("/db/metadata/extend/relation/superTypes",{params:{connName:e,"namespace.catalog":t.catalog,"namespace.schema":t.schema,tableName:n}})},exportPreview:function(e,a,t){var n=o.v1();return l["a"].post("/db/data/exportPreview",{connName:e,namespace:a,sqls:[t],traceId:n},l["b"].json)},exportData:function(e,a,t){var n=o.v1();return l["a"].post("/db/data/exportData",{connName:e,namespace:a,sqls:[t],traceId:n},l["b"].json)},exportDoc:function(e,a,t,i,s){return l["a"].get("/db/doc/export",{params:Object(n["a"])(Object(n["a"])({connName:e,catalog:a,searchSchema:i},{schemas:t.join(",")}),{},{keyword:s})})},templateExamples:function(){return l["a"].get("/db/code/template/examples")}}},c5c6:function(e,a,t){"use strict";t("af38")},c64e:function(e,a,t){var n=t("e1f4"),l=t("2366");function i(e,a,t){var i=a&&t||0;"string"==typeof e&&(a="binary"===e?new Array(16):null,e=null),e=e||{};var s=e.random||(e.rng||n)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,a)for(var o=0;o<16;++o)a[i+o]=s[o];return a||l(s)}e.exports=i},c8e9:function(e,a,t){"use strict";t("a249")},ce93:function(e,a,t){"use strict";t("f0bf")},d212:function(e,a,t){"use strict";t("be49")},dc19:function(e,a,t){},e1f4:function(e,a){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var l=new Array(16);e.exports=function(){for(var e,a=0;a<16;a++)0===(3&a)&&(e=4294967296*Math.random()),l[a]=e>>>((3&a)<<3)&255;return l}}},f0bf:function(e,a,t){},f3cc:function(e,a,t){"use strict";var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("ul",{staticClass:"list-group",staticStyle:{"min-height":"1px"}},e._l(e.listFilter,(function(a,n){return t("li",{class:a.active?"active list-group-item":"list-group-item",attrs:{title:a.value},on:{click:function(t){return e.clickItem(a,n)}}},[e._v(" "+e._s(a.value)+" ")])})),0)])},l=[],i={name:"Index",props:{list:{type:Array,request:!0},props:{type:Object,require:!1}},data:function(){return{activeIndex:0,view:{show:!0}}},computed:{listFilter:function(){for(var e=[],a=0;a<this.list.length;a++)e.push({value:this.list[a],active:!1});return e.length>this.activeIndex&&(e[this.activeIndex].active=!0),e}},watch:{list:function(){this.activeIndex=0}},created:function(){this.props&&(this.activeIndex=this.props.active||0)},mounted:function(){},methods:{clickItem:function(e,a){this.activeIndex=a,e.active=!0,this.$emit("click-item",e.value,a)}}},s=i,o=(t("7395"),t("2877")),r=Object(o["a"])(s,n,l,!1,null,"414ca036",null);a["a"]=r.exports}}]);